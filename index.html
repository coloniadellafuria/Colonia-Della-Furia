<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colonia Della Furia</title>
    <link rel="icon" type="image/x-icon" href="../bilder/logo_furia.png"> 
    <link rel="stylesheet" href="../CSS/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* NEU: Wichtige globale Korrektur für das Flackern */
        body {
            background-color: #1a1a1a; /* Verhindert das Aufblitzen des weißen Standard-Hintergrunds */
            font-family: 'Roboto', sans-serif;
            color: #fff;
        }

        /* Allgemeine Container-Stile */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        main section {
            padding: 80px 0;
        }
        h2 {
            font-family: 'Oswald', sans-serif;
            color: #FF0000; 
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 50px;
        }
        .cta-button {
            background-color: #FF0000; 
            color: #ffffff;
            padding: 12px 25px;
            text-decoration: none;
            font-family: 'Oswald', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            border-radius: 5px;
            display: inline-block;
        }
        .cta-button:hover {
            background-color: #cc0000; 
            transform: translateY(-1px);
        }
        .haie-rot {
            color: #FF0000;
        }
        .dark-section {
            background-color: #1a1a1a; 
            color: #ffffff;
        }
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px; 
        }

        /* Cookie-Banner */
        #cookieConsent {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            color: #ffffff;
            padding: 15px 0;
            z-index: 10000;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
            text-align: center;
        }
        #cookieConsent .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        #cookieConsent p {
            margin: 0;
            font-size: 0.9em;
        }
        #cookieConsent .cta-button {
            padding: 8px 15px;
            font-size: 0.9em;
            margin-left: 20px;
        }
        
        /* HEADER */
        header {
            background-color: #1a1a1a; /* Hintergrundfarbe für nahtlosen Übergang */
            background-image: url('');
            background-size: cover;
            background-position: center;
            padding: 30px 0 0px;
            color: #ffffff;
            text-align: center;
            position: relative;
        }
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6); 
            z-index: 1;
        }
        header .container {
            position: relative;
            z-index: 2;
        }
        .header-logo {
            width: 150px;
            height: auto;
            margin-bottom: 20px;
        }
        header h1 {
            font-family: 'Oswald', sans-serif;
            font-size: 4em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }
        header p {
            font-size: 1.2em;
            margin: 10px 0 0;
            font-weight: 400;
        }
        
        /* Navigation */
        .main-nav {
            background-color: #1a1a1a;
            border-bottom: 3px solid #FF0000;
            padding: 15px 0;
            position: relative;
            z-index: 900;
        }
        .main-nav .container {
            display: flex;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .main-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
        }
        .main-nav a {
            color: #ffffff;
            text-decoration: none;
            padding: 10px 20px;
            display: block;
            font-family: 'Oswald', sans-serif;
            font-weight: 700;
            font-size: 1.1em;
            transition: color 0.3s ease;
        }
        .main-nav a:hover {
            color: #FF0000;
        }
        /* Fixierte Navigation (WICHTIG: Performance-Fix) */
        .fixed-compact-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            padding: 10px 0;
            z-index: 999;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
            transform: translateZ(0); /* NEU: Hardware-Beschleunigung gegen Jitter/Ruckeln */
        }
        .fixed-compact-nav .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .fixed-compact-nav .header-logo {
            height: 30px;
            margin-right: 20px;
        }
        .fixed-compact-nav h1,
        .fixed-compact-nav p {
            display: none;
        } 
        .fixed-compact-nav nav ul {
            justify-content: flex-start;
        }
        
        /* Hero-Section */
        #hero {
            position: relative;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        .hero-image {
            background-image: url('../bilder/banner (3).png');
            background-size: cover;
            background-position: center;
        }
        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5); 
        }
        .hero-content {
            position: relative;
            z-index: 10;
            color: #ffffff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }
        .hero-content h2 {
            font-size: 3.5em;
            margin-bottom: 10px;
            color: #ffffff; 
        }
        .hero-content p {
            font-size: 1.5em;
            margin-bottom: 30px;
        }
        
        /* Spielkarten & News (Unverändert) */
        .game-card {
            background-color: #2b2b2b;
            color: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5);
            display: flex; 
            min-height: 150px;
            transition: transform 0.3s ease;
            border: 2px solid transparent;
        }
        .game-card:hover {
            transform: translateY(-3px);
            border-color: #FF0000;
        }
        .game-card-home {
            border-left: 10px solid #FF0000; 
        }
        .game-card-home .game-date-time-box {
            background-color: #cc0000;
        }
        .game-card-home .game-date {
            color: #000000; 
        }
        .game-card-away {
            border-left: 10px solid #aaaaaa; 
        }
        .game-card-away .game-date-time-box {
            background-color: #444444;
        }
        .game-date-time-box {
            flex-basis: 110px; 
            flex-shrink: 0;
            text-align: center;
            padding: 15px 0;
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase;
        }
        .game-day {
            font-size: 1.1em;
            margin: 0;
        }
        .game-date {
            font-size: 1.8em;
            font-weight: 700;
            line-height: 1.1;
            margin: 0 0 5px 0;
        }
        .game-time {
            font-size: 1.2em;
            margin: 0;
            font-weight: 400;
        }
        .game-details {
            flex-grow: 1;
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            text-align: left;
        }
        .game-tag {
            display: inline-block;
            background-color: #FF0000; 
            color: #ffffff;
            font-size: 0.7em;
            font-weight: 700;
            padding: 3px 8px;
            border-radius: 3px;
            margin-bottom: 5px;
            text-transform: uppercase;
        }
        .game-card-away .game-tag {
            background-color: #666666;
        }
        .game-opponent {
            font-size: 1.4em;
            font-family: 'Oswald', sans-serif;
            margin: 0 0 5px 0;
            color: #FF0000;
        }
        .game-card-away .game-opponent {
            color: #ffffff;
        }
        .game-location {
            font-size: 0.9em;
            color: #ccc;
            margin-bottom: 10px;
        }
        .game-cta {
            padding: 8px 15px;
            font-size: 0.9em;
            max-width: 150px;
            text-align: center;
        }
        .news-item {
            background-color: #2b2b2b;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-align: center;
        }
        .news-item img {
            width: 100%; 
            height: 200px; 
            object-fit: cover; 
            border-radius: 4px;
            margin-bottom: 15px;
        }
        .news-item h3 {
            font-family: 'Oswald', sans-serif;
            font-size: 1.5em;
            color: #FF0000;
            margin-top: 0;
        }
        .news-item p {
            font-size: 1em;
            line-height: 1.4;
            margin-bottom: 15px;
        }
        .news-item .cta-button {
             margin-top: 15px; 
             max-width: 150px; 
        }
        
        /* About Us Section */
        #about-us {
            background-color: #ffffff;
            color: #1a1a1a;
        }
        #about-us .content-wrapper {
            display: flex;
            gap: 50px;
            align-items: center;
        }
        #about-us .text-content {
            flex: 1;
        }
        #about-us .image-content {
            flex: 1;
            text-align: center;
        }
        #about-us img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        /* Gallery Section */
        #gallery {
            text-align: center;
        }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        .gallery-item {
            background-color: #2b2b2b;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        .gallery-item:hover {
            transform: scale(1.02);
        }
        .gallery-item img {
            width: 100%;
            height: 200px; 
            object-fit: cover; 
            border-radius: 4px;
        }
        .gallery-item p {
            margin-top: 10px;
            font-size: 0.9em;
        }
        
        /* Scroll-To-Top Button */
        #scrollToTopBtn {
            display: none; 
            position: fixed; 
            bottom: 30px; 
            right: 30px; 
            z-index: 99; 
            border: none; 
            outline: none; 
            background-color: #FF0000; 
            color: white; 
            cursor: pointer; 
            padding: 15px; 
            border-radius: 50%; 
            font-size: 18px; 
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s;
        }
        #scrollToTopBtn:hover {
            background-color: #cc0000;
        }
        
        /* Footer */
        footer {
            background-color: #000000;
            color: #ffffff;
            padding: 20px 0;
            font-size: 0.9em;
            border-top: 3px solid #FF0000;
        }
        footer .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        footer p {
            margin: 0;
        }
        footer a {
            color: #ffffff;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        footer a:hover {
            color: #FF0000;
        }
        .social-links img {
            width: 24px;
            height: 24px;
            margin-left: 15px;
            vertical-align: middle;
        }

        /* Responsive Anpassungen für Smartphones */
        @media (max-width: 600px) {
            header .container {
                flex-direction: column;
                text-align: center;
                padding: 10px 15px;
            }
            header .header-logo {
                width: 80px; 
                margin: 10px auto 5px;
            }
            header h1 {
                font-size: 2em;
            }
            header p {
                font-size: 1em;
            }
            nav ul {
                flex-direction: column;
                gap: 10px;
                padding: 10px 0 0 0;
            }
            nav ul li a {
                padding: 8px 15px;
            }
            main section {
                padding: 50px 0;
            }
            #about-us .content-wrapper {
                flex-direction: column;
                gap: 30px;
            }
            .gallery-grid {
                grid-template-columns: 1fr; 
                gap: 20px;
            }
            #cookieConsent .container {
                flex-direction: column;
                text-align: center;
            }
            #cookieConsent p {
                margin-bottom: 10px;
            }
            .news-grid {
                grid-template-columns: 1fr;
            }
            .game-card {
                flex-direction: column; 
                min-height: initial;
            }
            .game-date-time-box {
                flex-basis: auto;
                padding: 10px;
                display: flex;
                justify-content: center;
                gap: 15px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            .game-day, .game-date, .game-time {
                margin: 0;
            }
            .game-date {
                 font-size: 1.5em; 
            }
            .game-details {
                text-align: center;
            }
            .game-opponent {
                 font-size: 1.2em;
            }
            /* Die Buttons sind groß (wie gewünscht) und klickbar */
            .game-cta {
                margin: 10px auto 0;
                width: 100%; 
                max-width: none; 
                box-sizing: border-box; 
                position: relative; 
                z-index: 10; 
            }
        }
    </style>
</head>
<body>
    
    <div id="cookieConsent">
        <div class="container">
            <p>Wir nutzen Cookies, um unsere Website optimal für Sie gestalten zu können. Durch die weitere Nutzung der Website stimmen Sie dem zu. Details finden Sie in unserer <a href="datenschutz.html" class="haie-rot">Datenschutzerklärung</a>.</p>
            <button id="acceptCookies" class="cta-button">Akzeptieren</button>
        </div>
    </div>
    
   <header>
    <div class="container">
        
        <img src="../bilder/logo_furia.png" alt="Logo Colonia Della Furia" class="header-logo">
        
        <h1><span class="haie-rot">Colonia Della Furia</span></h1>
        <br>
        <p>Unabhängiger Fanclub der Kölner Haie</p>
        <br>
        <br>
        <br>
    </div>
    
    <nav class="main-nav">
        <div class="container">
            <ul>
                <li><a href="index.html" class="active">Start</a></li>
                <li><a href="#hero" class="active">Spiele</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="mitglied.html">Mitglied werden</a></li>
                <li><a href="kontakt.html">Kontakt</a></li>
                
            </ul>
        </div>
    </nav>
    
</header>
    
    <main>
        
        <section id="hero" class="hero-image">
            <div class="hero-content">
                <h2>LEIDENSCHAFT. RHEIN. EIS.</h2>
                <p>Der unabhängige Fanclub für die Kölner Haie seit 2020.</p>
                <a href="anmeldeformular.html" class="cta-button">Mitglied werden</a>
            </div>
        </section>

<section id="next-games">
    <div class="container">
        <h2>NÄCHSTE SPIELE</h2>
        
        <div id="game-list" class="game-list-grid">
            </div>
        
        
    </div>
</section>
        <section id="about-us">
            <div class="container">
                <h2>Wer wir sind</h2>
                
                <div class="content-wrapper">
                    <div class="text-content">
                        <p>Wir sind die **Colonia Della Furia**, ein Zusammenschluss von Kölner Haie Fans, die den Verein nicht nur lieben, sondern leben. Seit unserer Gründung 2020 stehen wir für bedingungslose Unterstützung, lautstarken Support in der Lanxess Arena und organisierte Auswärtsfahrten quer durch Deutschland.</p>
                        <p>Bei uns steht die Gemeinschaft im Vordergrund. Wir organisieren regelmäßige Treffen, Fanturniere und engagieren uns für soziale Projekte in Köln. Egal ob jung oder alt, bei uns ist jeder willkommen, der die Haie im Herzen trägt.</p>
                        <a href="anmeldeformular.html" class="cta-button">Werde Teil der Furia!</a>
                    </div>
                    <div class="image-content">
                        <img src="../bilder/logo_furia.png" alt="Colonia Della Furia Banner">
                    </div>
                </div>
                
            </div>
        </section>

        <section id="gallery" class="dark-section">
            <div class="container">
                <h2>Impressionen</h2>
                
                <div class="gallery-grid">
                    <div class="gallery-item">
                        <img src="../bilder/banner (3).png" alt="Haie Fanclub Bild 1">
                        <p>Stimmung in der Arena!</p>
                    </div>
                    <div class="gallery-item">
                        <img src="../bilder/gegen_deg (1).png" alt="Haie Fanclub Bild 2">
                        <p>Gemeinsame Auswärtsfahrt!</p>
                    </div>
                     <div class="gallery-item">
                        <img src="../bilder/logokec (1).jpeg" alt="Unser Banner">
                        <p>Colonia Della Furia Banner</p>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <button id="scrollToTopBtn" title="Zum Seitenanfang">↑</button>

    <footer>
        <div class="container">
            <p>&copy; 2025 Colonia Della Furia. Unabhängiger Fanclub. Alle Rechte vorbehalten. | <a href="impressum.html">Impressum</a> | <a href="datenschutz.html">Datenschutz</a></p>
            <div class="social-links">
                <a href="https://www.tiktok.com/@coloniadellafuria" target="_blank" aria-label="TikTok"><img src="../bilder/tiktok.png" alt="TikTok"></a>
                <a href="https://www.instagram.com/coloniadellanfuria/" target="_blank" aria-label="Instagram"><img src="../bilder/instagram.png" alt="Instagram"></a>
            </div>
        </div>
    </footer>

    <script>
        
        // **********************************************
        // SPIELKARTEN LOGIK 
        // **********************************************

        function mapGameData(game) {
            const dateObj = new Date(game.datum);
            const dateOptions = { day: '2-digit', month: '2-digit' };
            const dayOptions = { weekday: 'short' };
            
            return {
                opponent: game.gegner,
                day: dateObj.toLocaleDateString('de-DE', dayOptions).replace('.', ''), 
                date: dateObj.toLocaleDateString('de-DE', dateOptions),
                time: dateObj.toLocaleTimeString('de-DE', { hour: '2-digit', minute: '2-digit' }),
                location: game.arena,
                isHome: game.ort === "Heimspiel",
                // KORREKTUR: Linkt jetzt immer zum Shop, wie gewünscht
                ticketLink: "shop.html" 
            };
        }

        function createGameCardHTML(game) {
            const gameClass = game.isHome ? 'game-card-home' : 'game-card-away';
            const tagText = game.isHome ? 'Heimspiel' : 'Auswärts';
            const ctaText = game.isHome ? 'Tickets' : 'Tickets'; 
            
            // Verwendet ticketLink für Heimspiele und hardcodet shop.html für Auswärtsspiele (kann jetzt auf game.ticketLink geändert werden, ist aber so auch funktional)
            const ctaLink = game.isHome ? game.ticketLink : 'shop.html'; 

            return `
                <div class="game-card ${gameClass}">
                    <div class="game-date-time-box">
                        <p class="game-day">${game.day}</p>
                        <p class="game-date">${game.date}</p>
                        <p class="game-time">${game.time} Uhr</p>
                    </div>
                    <div class="game-details">
                        <div>
                            <span class="game-tag">${tagText}</span>
                            <h4 class="game-opponent">${game.opponent}</h4>
                            <p class="game-location">${game.location}</p>
                        </div>
                        <a href="${ctaLink}" class="cta-button game-cta">${ctaText}</a>
                    </div>
                </div>
            `;
        }
        
        async function loadAndRenderUpcomingGames() {
            const container = document.getElementById('game-list');
            
            try {
                const response = await fetch('../JSON/spiele.json'); 
                
                if (!response.ok) {
                    throw new Error(`HTTP-Fehler! Status: ${response.status}. Stelle sicher, dass 'spiele.json' existiert.`);
                }

                const rawGames = await response.json();
                const now = new Date();

                const futureGames = rawGames
                    .filter(game => new Date(game.datum) >= now) 
                    .map(mapGameData); 
                
                // Anzeige ist auf die nächsten 3 Spiele begrenzt
                const gamesToShow = futureGames.slice(0, 3); 
                
                let htmlContent = '';

                if (gamesToShow.length === 0) {
                    htmlContent = '<p style="text-align: center; width: 100%; color: #ccc;">Aktuell sind keine zukünftigen Spieltermine in der Datei gefunden worden.</p>';
                } else {
                    gamesToShow.forEach(game => {
                        htmlContent += createGameCardHTML(game);
                    });
                }
                
                container.innerHTML = htmlContent;

            } catch (error) {
                console.error("Fehler beim Laden der Spieldaten:", error);
                container.innerHTML = '<p style="text-align: center; width: 100%; color: #FF0000;">Fehler beim Laden der Spieldaten. Bitte stellen Sie sicher, dass die Datei <code style="color: #ffffff;">../JSON/spiele.json</code> existiert.</p>';
            }
        }


        // **********************************************
        // COOKIE BANNER LOGIK (Unverändert)
        // **********************************************
        function checkCookieConsent() {
            const consent = localStorage.getItem('cookieConsent');
            const cookieBanner = document.getElementById('cookieConsent');
            
            if (consent !== 'accepted') {
                cookieBanner.style.display = 'block';
            } else {
                cookieBanner.style.display = 'none';
            }
        }

        document.getElementById('acceptCookies')?.addEventListener('click', () => {
            localStorage.setItem('cookieConsent', 'accepted');
            document.getElementById('cookieConsent').style.display = 'none';
        });


        // **********************************************
        // NAVIGATION SCROLL LOGIK (Unverändert)
        // **********************************************
        function handleScrollNav() {
            const mainNav = document.querySelector('.main-nav');
            const header = document.querySelector('header');
            const mainNavTop = header ? header.offsetHeight : 200; 

            if (window.scrollY >= mainNavTop) {
                if (!mainNav.classList.contains('fixed-compact-nav')) {
                    mainNav.classList.add('fixed-compact-nav');
                }
            } else {
                mainNav.classList.remove('fixed-compact-nav');
            }
        }
        
        // **********************************************
        // SCROLL TO TOP LOGIK (Unverändert)
        // **********************************************
        function handleScrollToTop() {
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        }

        document.getElementById("scrollToTopBtn")?.addEventListener("click", () => {
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            });
        });


        // **********************************************
        // THROTTLING / PERFORMANCE FIX (Unverändert)
        // **********************************************
        let isThrottled = false;
        function throttleScroll() {
            if (!isThrottled) {
                isThrottled = true;
                
                window.requestAnimationFrame(() => {
                    handleScrollNav();
                    handleScrollToTop();
                    isThrottled = false;
                });
            }
        }


        // **********************************************
        // INITIALISIERUNG
        // **********************************************
        document.addEventListener('DOMContentLoaded', () => {
            checkCookieConsent();
            loadAndRenderUpcomingGames(); 
        });

        window.addEventListener('scroll', throttleScroll);


    </script>
    <script src="../JavaScript/script.js"></script>
</body>
</html>